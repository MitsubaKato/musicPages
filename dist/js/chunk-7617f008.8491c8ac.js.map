{"version":3,"sources":["webpack:///./src/views/UserProfile.vue","webpack:///./src/views/UserProfile.vue?e0e9","webpack:///./src/views/UserProfile.vue?e5a8","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["class","_createElementVNode","id","_hoisted_3","style","xmlns","preserveAspectRatio","version","viewBox","x","y","points","_createElementBlock","onClick","_ctx","$data","backgroundURL","_hoisted_5","type","ref","onChange","alt","src","photoURL","_hoisted_13","_toDisplayString","name","_hoisted_27","_hoisted_30","_Fragment","_renderList","song","i","key","_createVNode","_component_router_link","to","params","docID","cover","modified_name","genre","data","user","songs","unsubscribeAuth","userLikes","userComments","userUploads","props","String","required","methods","fetchUserStats","userId","likesCollection","where","get","likesSnapshot","docs","length","commentsCollection","commentsSnapshot","songsCollection","songsSnapshot","created","this","auth","onAuthStateChanged","usersCollection","doc","userSnapshot","map","$router","push","beforeDestroy","__exports__","render","$","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"js/chunk-7617f008.8491c8ac.js","sourcesContent":["<template>\r\n  <main class=\"profile-page\">\r\n  <section class=\"relative block h-500-px\">\r\n    <div @click=\"triggerBgUpload\" class=\"absolute top-0 w-full h-full bg-center bg-cover\" :style=\"`background-image: url('${user.backgroundURL || 'https://images.unsplash.com/photo-1499336315816-097655dcfbda?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=2710&amp;q=80'}');`\">\r\n  <span id=\"blackOverlay\" class=\"w-full h-full absolute opacity-50 bg-black\"></span>\r\n</div>\r\n    <div class=\"top-auto bottom-0 left-0 right-0 w-full absolute pointer-events-none overflow-hidden h-70-px\" style=\"transform: translateZ(0px)\">\r\n      <svg class=\"absolute bottom-0 overflow-hidden\" xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"none\" version=\"1.1\" viewBox=\"0 0 2560 100\" x=\"0\" y=\"0\">\r\n        <polygon class=\"text-blueGray-200 fill-current\" points=\"2560 0 2560 100 0 100\"></polygon>\r\n      </svg>\r\n    </div>\r\n  </section>\r\n  <section class=\"relative py-16 bg-blueGray-200\">\r\n    <div class=\"container mx-auto px-4\">\r\n      <div class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-xl rounded-lg -mt-64\">\r\n        <div class=\"px-6\">\r\n          <div class=\"flex flex-wrap justify-center\">\r\n            <div class=\"w-full lg:w-3/12 px-4 lg:order-2 flex justify-center\">\r\n                <input type=\"file\" ref=\"fileInput\" @change=\"handleFileUpload\" style=\"display: none\" />              \r\n                <img alt=\"...\" :src=\"user.photoURL || 'https://via.placeholder.com/150'\" @click=\"triggerFileUpload\" class=\"w-40 h-40 rounded-full border-4 \r\n                border-green-400 object-cover -m-20\">\r\n            </div>\r\n            <div class=\"w-full lg:w-4/12 px-4 lg:order-3 lg:text-right lg:self-center\">\r\n            </div>\r\n            <div class=\"w-full lg:w-4/12 px-4 lg:order-1\">\r\n              <div class=\"flex justify-center py-4 lg:pt-4 pt-8\">\r\n                <div class=\"mr-4 p-3 text-center\">\r\n                  <span class=\"text-xl font-bold block uppercase tracking-wide text-blueGray-600\">{{ userLikes }}</span>\r\n                  <span class=\"text-sm text-blueGray-400\">{{$t(\"profile.like\")}}</span>\r\n              </div>\r\n              <div class=\"mr-4 p-3 text-center\">\r\n                  <span class=\"text-xl font-bold block uppercase tracking-wide text-blueGray-600\">{{ userUploads }}</span>\r\n                  <span class=\"text-sm text-blueGray-400\">{{$t(\"profile.uploads\")}}</span>\r\n              </div>\r\n              <div class=\"lg:mr-4 p-3 text-center\">\r\n                  <span class=\"text-xl font-bold block uppercase tracking-wide text-blueGray-600\">{{ userComments }}</span>\r\n                  <span class=\"text-sm text-blueGray-400\">{{$t(\"profile.comments\")}}</span>\r\n              </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"text-center mt-12\">\r\n            <h3 class=\"text-4xl font-semibold leading-normal mb-2 text-blueGray-700 mb-2\">\r\n              {{ user.name }}\r\n            </h3>\r\n          </div>\r\n          <div class=\"mt-10 py-10 border-t border-blueGray-200 text-center\">\r\n            \r\n          </div>\r\n          <div class=\"text-center\"> \r\n            <h3 class=\"text-xl font-semibold mb-4\">{{ $t(\"profile.uploads\") }} <i class=\"fa fa-upload pl-2 text-blue-500\"></i></h3> \r\n          </div>\r\n          \r\n          <ul class=\"flex flex-col p-4\">\r\n            <li v-for=\"(song, i) in songs\" :key=\"i\" class=\"flex flex-row mb-2\">\r\n              <router-link :to=\"{ name: 'song', params: { id: song.docID } }\" class=\"block w-full\">\r\n                \r\n                <div class=\"select-none cursor-pointer bg-gradient-to-l from-teal-200 via-sky-400 to-emerald-400  rounded-md flex flex-1 items-center p-4 transition duration-500 ease-in-out transform hover:-translate-y-1 hover:shadow-lg\">\r\n                  \r\n                  <img :src=\"song.cover || 'https://via.placeholder.com/150'\" class=\"rounded-md w-10 h-full justify-center items-center mr-4\"/>\r\n  \r\n                  <div class=\"flex-1 pl-1 mr-16\">\r\n                    <div>{{ song.modified_name }}</div>\r\n                    <div class=\"pt-2 block\">\r\n                      <span v-for=\"genre in song.genre\" :key=\"genre\" class=\"mr-2 inline-block rounded-full bg-bgGenre px-3 py-1 text-sm font-semibold text-white\">{{ genre }}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n  \r\n              </router-link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n  </main>\r\n  </template>\r\n<script>\r\nimport { auth, likesCollection, songsCollection, storage, usersCollection, commentsCollection } from \"@/includes/firebase\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: {},\r\n      songs: [],\r\n      unsubscribeAuth: null,\r\n      userLikes: 0,\r\n      userComments: 0,\r\n      userUploads: 0,\r\n    };\r\n  },\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchUserStats() {\r\n    const userId = this.id;\r\n\r\n    // Получить количество лайков\r\n    const likesSnapshot = await likesCollection.where(\"userId\", \"==\", userId).get();\r\n    this.userLikes = likesSnapshot.docs.length;\r\n\r\n    // Получить количество комментариев\r\n    const commentsSnapshot = await commentsCollection.where(\"uid\", \"==\", userId).get();\r\n    this.userComments = commentsSnapshot.docs.length;\r\n\r\n    // Получить количество загруженных треков\r\n    const songsSnapshot = await songsCollection.where(\"uid\", \"==\", userId).get();\r\n    this.userUploads = songsSnapshot.docs.length;\r\n},\r\n  },\r\n  created() {\r\n    this.unsubscribeAuth = auth.onAuthStateChanged(async (user) => {\r\n      if (user) {\r\n        // User is logged in\r\n        this.fetchUserStats();\r\n        const userSnapshot = await usersCollection.doc(this.id).get();\r\n        this.user = userSnapshot.data();\r\n        const songsSnapshot = await songsCollection.where('uid', '==', this.id).get();\r\n        this.songs = songsSnapshot.docs.map(doc => {\r\n          return {\r\n            ...doc.data(),\r\n            docID: doc.id,\r\n          }\r\n        });\r\n      } else {\r\n        // User is logged out, redirect to Home\r\n        this.$router.push({ name: \"home\" });\r\n      }\r\n    });\r\n  },\r\n  beforeDestroy() {\r\n    // Clean up the listener when the component is destroyed\r\n    this.unsubscribeAuth();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url('https://demos.creative-tim.com/notus-js/assets/styles/tailwind.css');\r\n@import url('https://demos.creative-tim.com/notus-js/assets/vendor/@fortawesome/fontawesome-free/css/all.min.css');\r\n.container {\r\n  max-width: 1024px;\r\n}\r\n\r\nul li:hover {\r\n  background-color: transparent; /* Это уберет фон при наведении */\r\n}\r\n\r\nul li:hover a {\r\n  color: inherit; /* Это уберет изменение цвета текста при наведении */\r\n}\r\n</style>","import { render } from \"./UserProfile.vue?vue&type=template&id=6834dccb&scoped=true\"\nimport script from \"./UserProfile.vue?vue&type=script&lang=js\"\nexport * from \"./UserProfile.vue?vue&type=script&lang=js\"\n\nimport \"./UserProfile.vue?vue&type=style&index=0&id=6834dccb&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\alexr\\\\Downloads\\\\Music\\\\music\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6834dccb\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UserProfile.vue?vue&type=style&index=0&id=6834dccb&scoped=true&lang=css\"","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}